# æ•°æ®æºç®¡ç†æ¨¡å—è®¾è®¡

## åŠŸèƒ½æ¦‚è¿°

æä¾›æ¸…æ™°æ˜“ç”¨çš„ç•Œé¢ï¼Œç”¨äºé…ç½®å’Œç®¡ç†æ‰€æœ‰æ•°æ®æºï¼ˆAmazon åº—é“ºã€Shopify ç­‰ï¼‰ã€‚

## æ ¸å¿ƒåŠŸèƒ½

### 1. æ•°æ®æºåˆ—è¡¨
- å±•ç¤ºæ‰€æœ‰å·²é…ç½®çš„æ•°æ®æº
- æ”¯æŒæŒ‰çŠ¶æ€ç­›é€‰ï¼ˆå…¨éƒ¨/å¯ç”¨/ç¦ç”¨ï¼‰
- æ”¯æŒæŒ‰ç±»å‹ç­›é€‰ï¼ˆAmazon/Shopifyï¼‰
- æ˜¾ç¤ºåŒæ­¥çŠ¶æ€å’Œæ—¶é—´
- æ”¯æŒæœç´¢å’Œåˆ†é¡µ

### 2. æ•°æ®æºè¯¦æƒ…
- åº—é“ºåŸºæœ¬ä¿¡æ¯ï¼ˆåç§°ã€å¸‚åœºã€å–å®¶ IDï¼‰
- API å‡­è¯çŠ¶æ€ï¼ˆæ˜¯å¦é…ç½®ã€æ˜¯å¦æœ‰æ•ˆï¼‰
- åŒæ­¥å†å²è®°å½•
- æœ€ååŒæ­¥æ—¶é—´å’ŒçŠ¶æ€
- æ•°æ®ç»Ÿè®¡ï¼ˆäº§å“æ•°ã€è®¢å•æ•°ç­‰ï¼‰

### 3. æ•°æ®æºæ“ä½œ
- **æ·»åŠ æ–°åº—é“º**
  - åº—é“ºåç§°
  - å¸‚åœºï¼ˆUS/EU/FEï¼‰
  - å–å®¶ ID
  - API å‡­è¯é…ç½®

- **ç¼–è¾‘åº—é“º**
  - ä¿®æ”¹åŸºæœ¬ä¿¡æ¯
  - æ›´æ–° API å‡­è¯

- **åˆ é™¤åº—é“º**
  - äºŒæ¬¡ç¡®è®¤
  - å…³è”æ•°æ®å¤„ç†æç¤º

- **å¯ç”¨/ç¦ç”¨**
  - æ§åˆ¶æ•°æ®åŒæ­¥
  - å¿«é€Ÿåˆ‡æ¢çŠ¶æ€

### 4. æ•°æ®åŒæ­¥
- **æ‰‹åŠ¨è§¦å‘åŒæ­¥**
  - é€‰æ‹©åŒæ­¥ç±»å‹ï¼ˆåº“å­˜/ä¸šåŠ¡/å¹¿å‘Šï¼‰
  - é€‰æ‹©åŒæ­¥å¤©æ•°
  - å®æ—¶è¿›åº¦æ˜¾ç¤º

- **åŒæ­¥çŠ¶æ€ç›‘æ§**
  - å®æ—¶çŠ¶æ€æ›´æ–°
  - é”™è¯¯ä¿¡æ¯æ˜¾ç¤º
  - é‡è¯•æœºåˆ¶

### 5. åŒæ­¥å†å²
- æŸ¥çœ‹å†å²åŒæ­¥è®°å½•
- æŒ‰æ—¶é—´èŒƒå›´ç­›é€‰
- æŒ‰çŠ¶æ€ç­›é€‰ï¼ˆæˆåŠŸ/å¤±è´¥ï¼‰
- æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

## ç•Œé¢è®¾è®¡

### é¡µé¢ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ•°æ®æºç®¡ç†                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [+ æ·»åŠ æ•°æ®æº]  [ç­›é€‰:]  [å…¨éƒ¨ â–¼]        â”‚
â”‚  [æœç´¢:]  [æœç´¢å…³é”®è¯]                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€ åº—é“ºä¿¡æ¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ“¦ US åº—é“º (Active)            â”‚     â”‚
â”‚  â”‚ å¸‚åœº: United States               â”‚     â”‚
â”‚  â”‚ å–å®¶ ID: ABC123                 â”‚     â”‚
â”‚  â”‚ æœ€ååŒæ­¥: 2026-01-02 10:30      â”‚     â”‚
â”‚  â”‚ çŠ¶æ€: âœ… æˆåŠŸ                   â”‚     â”‚
â”‚  â”‚                                  â”‚     â”‚
â”‚  â”‚ [ç«‹å³åŒæ­¥] [ç¼–è¾‘] [ç¦ç”¨]         â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€ åº—é“ºä¿¡æ¯ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ ğŸ“¦ EU åº—é“º (Disabled)           â”‚     â”‚
â”‚  â”‚ å¸‚åœº: Germany                     â”‚     â”‚
â”‚  â”‚ å–å®¶ ID: DEF456                 â”‚     â”‚
â”‚  â”‚ æœ€ååŒæ­¥: ä»æœªåŒæ­¥                â”‚     â”‚
â”‚  â”‚ çŠ¶æ€: â¸ï¸ å·²ç¦ç”¨                 â”‚     â”‚
â”‚  â”‚                                  â”‚     â”‚
â”‚  â”‚ [å¯ç”¨] [ç¼–è¾‘] [åˆ é™¤]              â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ·»åŠ /ç¼–è¾‘å¯¹è¯æ¡†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ·»åŠ  Amazon åº—é“º                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åº—é“ºåç§° *                          â”‚
â”‚  [æˆ‘çš„ç¾å›½åº—é“º]                       â”‚
â”‚                                     â”‚
â”‚  å¸‚åœº *                              â”‚
â”‚  [ğŸ‡ºğŸ‡¸ United States â–¼]             â”‚
â”‚  ğŸ‡©ğŸ‡ª Germany  ğŸ‡¯ğŸ‡µ Japan           â”‚
â”‚                                     â”‚
â”‚  å–å®¶ ID *                          â”‚
â”‚  [A2XEXAMPLE12345]                  â”‚
â”‚                                     â”‚
â”‚  SP API å‡­è¯                         â”‚
â”‚  Refresh Token *                      â”‚
â”‚  [â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢]   â”‚
â”‚                                     â”‚
â”‚  Advertising API å‡­è¯                 â”‚
â”‚  Refresh Token *                      â”‚
â”‚  [â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢]   â”‚
â”‚                                     â”‚
â”‚  [âœ“] å¯ç”¨æ•°æ®åŒæ­¥                    â”‚
â”‚                                     â”‚
â”‚          [å–æ¶ˆ]           [ä¿å­˜]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åŒæ­¥è¿›åº¦å¯¹è¯æ¡†

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ•°æ®åŒæ­¥ä¸­...                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  åº“å­˜åŒæ­¥    [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 80%        â”‚
â”‚  1250/1500 è®°å½•                     â”‚
â”‚                                     â”‚
â”‚  ä¸šåŠ¡æŠ¥å‘Š    [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘] 90%      â”‚
â”‚  90/100 æ–‡ä»¶                        â”‚
â”‚                                     â”‚
â”‚  å¹¿å‘Šæ•°æ®    [â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 0%       â”‚
â”‚  ç­‰å¾…ä¸­...                          â”‚
â”‚                                     â”‚
â”‚  æ€»è¿›åº¦    [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 57%           â”‚
â”‚                                     â”‚
â”‚          [åå°è¿è¡Œ]   [å–æ¶ˆ]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## API è®¾è®¡

### åç«¯ç«¯ç‚¹

```typescript
// è·å–åº—é“ºåˆ—è¡¨
GET /amazon/stores
  Query: {
    page?: number
    page_size?: number
    is_active?: boolean
    marketplace_id?: string
  }
  Response: {
    total: number
    items: AmazonStore[]
  }

// è·å–åº—é“ºè¯¦æƒ…
GET /amazon/stores/:id
  Response: AmazonStore

// åˆ›å»ºåº—é“º
POST /amazon/stores
  Body: {
    store_name: string
    marketplace_id: string
    marketplace_name: string
    seller_id: string
    sp_api_refresh_token: string
    advertising_api_refresh_token: string
  }
  Response: AmazonStore

// æ›´æ–°åº—é“º
PUT /amazon/stores/:id
  Body: {
    store_name?: string
    is_active?: boolean
    sp_api_refresh_token?: string
    advertising_api_refresh_token?: string
  }
  Response: AmazonStore

// åˆ é™¤åº—é“º
DELETE /amazon/stores/:id
  Response: { message: string }

// æµ‹è¯•å‡­è¯
POST /amazon/stores/:id/verify
  Response: {
    valid: boolean
    message: string
  }

// è·å–åŒæ­¥å†å²
GET /amazon/stores/:id/sync-history
  Query: {
    page?: number
    page_size?: number
    status?: string
  }
  Response: {
    total: number
    items: SyncTask[]
  }
```

### å‰ç«¯ç±»å‹å®šä¹‰

```typescript
export interface AmazonStore {
  id: string
  user_id: number
  store_name: string
  marketplace_id: string  // ATVPDKIKX0DER, A1PA6795UKMFR9
  marketplace_name: string  // United States, Germany
  seller_id: string
  sp_api_refresh_token?: string
  advertising_api_refresh_token?: string
  is_active: boolean
  last_sync_at?: string
  created_at: string
  updated_at: string

  // æ‰©å±•å­—æ®µ
  status?: 'connected' | 'disconnected' | 'error'
  sync_status?: 'syncing' | 'success' | 'failed' | 'never'
  product_count?: number
  order_count?: number
}

export interface StoreForm {
  store_name: string
  marketplace_id: string
  marketplace_name: string
  seller_id: string
  sp_api_refresh_token?: string
  advertising_api_refresh_token?: string
  is_active?: boolean
}
```

## ç»„ä»¶ç»“æ„

```
frontend/src/views/data-source/
â”œâ”€â”€ index.vue                    # ä¸»é¡µé¢
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ StoreList.vue            # åº—é“ºåˆ—è¡¨
â”‚   â”œâ”€â”€ StoreCard.vue            # åº—é“ºå¡ç‰‡
â”‚   â”œâ”€â”€ StoreForm.vue            # æ·»åŠ /ç¼–è¾‘è¡¨å•
â”‚   â”œâ”€â”€ SyncDialog.vue           # åŒæ­¥è¿›åº¦å¯¹è¯æ¡†
â”‚   â”œâ”€â”€ SyncHistory.vue          # åŒæ­¥å†å²
â”‚   â””â”€â”€ StatusBadge.vue          # çŠ¶æ€å¾½ç« 
â””â”€â”€ composables/
    â””â”€â”€ useStore.ts             # åº—é“ºç®¡ç†é€»è¾‘
```

## å®ç°è®¡åˆ’

### Phase 1: åŸºç¡€åŠŸèƒ½ (1-2 å¤©)
- [ ] åº—é“ºåˆ—è¡¨å±•ç¤º
- [ ] æ·»åŠ åº—é“ºåŠŸèƒ½
- [ ] ç¼–è¾‘åº—é“ºåŠŸèƒ½
- [ ] åˆ é™¤åº—é“ºåŠŸèƒ½

### Phase 2: é«˜çº§åŠŸèƒ½ (1-2 å¤©)
- [ ] å¯ç”¨/ç¦ç”¨åˆ‡æ¢
- [ ] å‡­è¯æµ‹è¯•
- [ ] åŒæ­¥å†å²æŸ¥çœ‹
- [ ] çŠ¶æ€å¾½ç« å’Œå›¾æ ‡

### Phase 3: åŒæ­¥åŠŸèƒ½ (1-2 å¤©)
- [ ] æ‰‹åŠ¨è§¦å‘åŒæ­¥
- [ ] åŒæ­¥è¿›åº¦æ˜¾ç¤º
- [ ] å®æ—¶çŠ¶æ€æ›´æ–°
- [ ] é”™è¯¯å¤„ç†å’Œé‡è¯•

## æŠ€æœ¯å®ç°

### ä½¿ç”¨çš„ç»„ä»¶
- BaseCard - å¡ç‰‡å®¹å™¨
- BaseDialog - å¯¹è¯æ¡†
- BaseTable - è¡¨æ ¼ï¼ˆå¯é€‰ï¼‰
- el-table - Element Plus è¡¨æ ¼
- el-card - å¡ç‰‡
- el-badge - å¾½ç« 
- el-progress - è¿›åº¦æ¡

### çŠ¶æ€ç®¡ç†
ä½¿ç”¨ Composition API + reactive/ref

### æ ·å¼
- ä½¿ç”¨ç°æœ‰ SCSS å˜é‡
- ä¿æŒä¸æ•´ä½“é£æ ¼ä¸€è‡´
- å“åº”å¼è®¾è®¡

## æƒé™æ§åˆ¶

```typescript
meta: {
  title: 'æ•°æ®æºç®¡ç†',
  roles: ['admin', 'shangu']
}
```

## ä¸‹ä¸€æ­¥

1. åˆ›å»ºåç«¯ API ç«¯ç‚¹
2. å®ç°å‰ç«¯é¡µé¢å’Œç»„ä»¶
3. æ·»åŠ è·¯ç”±é…ç½®
4. ç¼–å†™æµ‹è¯•
5. æ–‡æ¡£æ›´æ–°
